(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e2c461a"],{"0b74":function(t,e,a){"use strict";var o=a("3401"),n=a.n(o);n.a},3401:function(t,e,a){},8322:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{attrs:{gutter:24}},[a("Col",{attrs:{xs:7,lg:11}},[a("Button",{attrs:{type:"success",icon:"plus"},on:{click:function(e){return t.addBtn()}}},[t._v(t._s(t.$t("add")))])],1),a("Col",{staticClass:"hidden-mobile",attrs:{xs:6,lg:3}},[a("Input",{attrs:{icon:"search",placeholder:"请输入字段名搜索..."},model:{value:t.searchForm.table_name,callback:function(e){t.$set(t.searchForm,"table_name",e)},expression:"searchForm.table_name"}})],1),a("Col",{attrs:{xs:3,lg:3}},[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){return t.getTableDataExcute(t.feeds.current_page)}}},[t._v(t._s(t.$t("search")))])],1)],1),a("br"),a("Row",[t.tableLoading?a("div",{staticClass:"demo-spin-container"},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),a("div",[t._v(t._s(t.$t("table_loading")))])],1)],1):t._e(),a("Table",{attrs:{size:"small",columns:t.columns,data:t.feeds.data},on:{"on-sort-change":t.onSortChange},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.row,n=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.tableButtonShowInfo(o,n)}}},[t._v(t._s(t.$t("show_info")))]),a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(e){return t.tableButtonEdit(o,n)}}},[t._v(t._s(t.$t("edit")))]),a("Poptip",{attrs:{confirm:"",title:"您确定要删除ID为："+o.id+" 的记录？"},on:{"on-ok":function(e){return t.tableButtonDestroyOk(o,n)}}},[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"error",size:"small"}},[t._v(t._s(t.$t("destroy")))])],1)]}}])})],1),t.showInfoModal.show?a("show-info",{attrs:{info:t.showInfoModal.info},on:{"show-modal-close":t.showModalClose}}):t._e(),t.addModal.show?a("add-component",{on:{"on-add-modal-success":function(e){return t.getTableDataExcute(t.feeds.current_page)},"on-add-modal-hide":t.addModalHide}}):t._e(),t.editModal.show?a("edit-component",{attrs:{"modal-id":t.editModal.id},on:{"on-edit-modal-success":function(e){return t.getTableDataExcute(t.feeds.current_page)},"on-edit-modal-hide":t.editModalHide}}):t._e()],1)},n=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{closable:!1,"mask-closable":!1,width:"600"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("add")))]),a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"表英文名",prop:"table_name"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.table_name,callback:function(e){t.$set(t.formData,"table_name",e)},expression:"formData.table_name"}})],1),a("FormItem",{attrs:{label:"表中文名",prop:"table_name_cn"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.table_name_cn,callback:function(e){t.$set(t.formData,"table_name_cn",e)},expression:"formData.table_name_cn"}})],1),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",rows:3,placeholder:"请输入"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),a("Button",{attrs:{type:"primary",loading:t.saveLoading},on:{click:t.addExcute}},[t._v(t._s(t.$t("save"))+" ")])],1)],1)],1)},r=[],l=a("ad8f"),i={data:function(){return{modalShow:!0,saveLoading:!1,formData:{table_name:"",table_name_cn:"",remark:""},rules:{table_name:[{required:!0,message:"请填写表英文名称",trigger:"blur"}],table_name_cn:[{required:!0,message:"请填写表中文名称",trigger:"blur"}]}}},methods:{addExcute:function(){var t=this;t.$refs.formData.validate(function(e){e&&(t.saveLoading=!0,Object(l["a"])(t.formData).then(function(e){t.saveLoading=!1,t.modalShow=!1,t.$emit("on-add-modal-success"),t.$emit("on-add-modal-hide"),t.$Notice.success({title:e.message})},function(e){t.saveLoading=!1}))})},cancel:function(){this.modalShow=!1,this.$emit("on-add-modal-hide")}}},d=i,c=a("17cc"),u=Object(c["a"])(d,s,r,!1,null,null,null),m=u.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{closable:!1,"mask-closable":!1,width:"600"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("edit")))]),a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"表英文名",prop:"table_name"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.table_name,callback:function(e){t.$set(t.formData,"table_name",e)},expression:"formData.table_name"}})],1),a("FormItem",{attrs:{label:"表中文名",prop:"table_name_cn"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.table_name_cn,callback:function(e){t.$set(t.formData,"table_name_cn",e)},expression:"formData.table_name_cn"}})],1),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",rows:3,placeholder:"请输入"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),a("Button",{attrs:{type:"primary",loading:t.saveLoading},on:{click:t.editExcute}},[t._v(t._s(t.$t("save"))+" ")])],1),!0===t.spinLoading?a("div",{staticClass:"demo-spin-container"},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),a("div",[t._v(t._s(t.$t("table_loading")))])],1)],1):t._e()],1)],1)},p=[],h=(a("b06f"),{props:{modalId:{type:Number,default:0}},data:function(){return{modalShow:!0,saveLoading:!1,spinLoading:!0,formData:{table_name:"",table_name_cn:"",remark:""},rules:{table_name:[{required:!0,message:"请填写表英文名称",trigger:"blur"}],table_name_cn:[{required:!0,message:"请填写表中文名称",trigger:"blur"}]}}},mounted:function(){this.modalId>0&&this.getInfoByIdExcute()},methods:{getInfoByIdExcute:function(){var t=this;Object(l["e"])(t.modalId).then(function(e){var a=e.data;t.formData={id:a.id,table_name:a.table_name,table_name_cn:a.table_name_cn,remark:a.remark},t.spinLoading=!1})},editExcute:function(){var t=this;t.$refs.formData.validate(function(e){e&&(t.saveLoading=!0,Object(l["c"])(t.formData,t.formData.id).then(function(e){t.saveLoading=!1,t.modalShow=!1,t.$emit("on-edit-modal-success"),t.$emit("on-edit-modal-hide"),t.$Notice.success({title:e.message})},function(e){t.saveLoading=!1}))})},cancel:function(){this.modalShow=!1,this.$emit("on-edit-modal-hide")}}}),_=h,b=Object(c["a"])(_,f,p,!1,null,null,null),g=b.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Drawer",{attrs:{closable:!0,title:"表状态字典",width:t.platformIsPc?60:80},on:{"on-close":t.closed},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("p",{staticClass:"drawer-title"},[a("span",{staticStyle:{"font-weight":"800"}},[t._v("「"+t._s(t.info.table_name)+"」")]),t._v("表状态字典：")]),a("div",{staticClass:"drawer-profile"},[a("Row",{attrs:{gutter:24}},[a("Col",{attrs:{xs:2,lg:2}},[a("Button",{attrs:{type:"success",icon:"plus"},on:{click:function(e){return t.addBtn()}}},[t._v(t._s(t.$t("add")))])],1),a("Col",{staticClass:"hidden-mobile",attrs:{xs:6,lg:6}},[a("Input",{attrs:{icon:"search",placeholder:"请输入表名搜索..."},model:{value:t.searchForm.column,callback:function(e){t.$set(t.searchForm,"column",e)},expression:"searchForm.column"}})],1),a("Col",{attrs:{xs:3,lg:3}},[a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(e){return t.getTableDataExcute(t.feeds.current_page)}}},[t._v(t._s(t.$t("search")))])],1)],1),a("br"),a("Row",[t.tableLoading?a("div",{staticClass:"demo-spin-container"},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),a("div",[t._v(t._s(t.$t("table_loading")))])],1)],1):t._e(),a("Table",{attrs:{size:"small",columns:t.columns,data:t.feeds.data},on:{"on-sort-change":t.onSortChange},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.row,n=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(e){return t.tableButtonEdit(o,n)}}},[t._v(t._s(t.$t("edit")))]),a("Poptip",{attrs:{confirm:"",title:"您确定要删除ID为："+o.id+" 的记录？"},on:{"on-ok":function(e){return t.tableButtonDestroyOk(o,n)}}},[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"error",size:"small"}},[t._v(t._s(t.$t("destroy")))])],1)]}}])})],1),t.addModal.show?a("add-component",{attrs:{"table-name":t.info.table_name},on:{"on-add-modal-success":function(e){return t.getTableDataExcute(t.feeds.current_page)},"on-add-modal-hide":t.addModalHide}}):t._e(),t.editModal.show?a("edit-component",{attrs:{"modal-id":t.editModal.id},on:{"on-edit-modal-success":function(e){return t.getTableDataExcute(t.feeds.current_page)},"on-edit-modal-hide":t.editModalHide}}):t._e()],1)])],1)},w=[],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{closable:!1,"mask-closable":!1,width:"600"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("add")))]),a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"字段名",prop:"column"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.column,callback:function(e){t.$set(t.formData,"column",e)},expression:"formData.column"}})],1),a("FormItem",{attrs:{label:"状态码",prop:"status_code"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.status_code,callback:function(e){t.$set(t.formData,"status_code",e)},expression:"formData.status_code"}})],1),a("FormItem",{attrs:{label:"状态说明",prop:"status_description"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.status_description,callback:function(e){t.$set(t.formData,"status_description",e)},expression:"formData.status_description"}})],1),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",rows:3,placeholder:"请输入"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),a("Button",{attrs:{type:"primary",loading:t.saveLoading},on:{click:t.addExcute}},[t._v(t._s(t.$t("save"))+" ")])],1)],1)],1)},D=[],y=a("1f09"),x=a.n(y),$=a("66df"),I=function(t,e,a){return $["a"].request({url:"/api/admin/status_maps",params:{page:t,per_page:e,search_data:x()(a)},method:"get"})},S=function(t){return $["a"].request({url:"/api/admin/status_maps",data:t,method:"post"})},M=function(t,e){return $["a"].request({url:"/api/admin/status_maps/"+e,data:t,method:"patch"})},L=function(t){return $["a"].request({url:"/api/admin/status_maps/"+t,method:"get"})},E=function(t){return $["a"].request({url:"/api/admin/status_maps/"+t,method:"delete"})},B={props:{tableName:{default:""}},data:function(){return{modalShow:!0,saveLoading:!1,formData:{table_name:this.tableName,column:"",status_code:"",status_description:"",remark:""},rules:{column:[{required:!0,message:"请填写字段名",trigger:"blur"}],status_code:[{required:!0,message:"状态码",trigger:"blur"}],status_description:[{required:!0,message:"状态说明",trigger:"blur"}]}}},methods:{addExcute:function(){var t=this;t.$refs.formData.validate(function(e){e&&(t.saveLoading=!0,S(t.formData).then(function(e){t.saveLoading=!1,t.modalShow=!1,t.$emit("on-add-modal-success"),t.$emit("on-add-modal-hide"),t.$Notice.success({title:e.message})},function(e){t.saveLoading=!1}))})},cancel:function(){this.modalShow=!1,this.$emit("on-add-modal-hide")}}},F=B,C=Object(c["a"])(F,k,D,!1,null,null,null),q=C.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{closable:!1,"mask-closable":!1,width:"600"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[a("p",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("edit")))]),a("Form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"字段名",prop:"column"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.column,callback:function(e){t.$set(t.formData,"column",e)},expression:"formData.column"}})],1),a("FormItem",{attrs:{label:"状态码",prop:"status_code"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.status_code,callback:function(e){t.$set(t.formData,"status_code",e)},expression:"formData.status_code"}})],1),a("FormItem",{attrs:{label:"状态说明",prop:"status_description"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.status_description,callback:function(e){t.$set(t.formData,"status_description",e)},expression:"formData.status_description"}})],1),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",rows:3,placeholder:"请输入"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),a("Button",{attrs:{type:"primary",loading:t.saveLoading},on:{click:t.editExcute}},[t._v(t._s(t.$t("save"))+" ")])],1),!0===t.spinLoading?a("div",{staticClass:"demo-spin-container"},[a("Spin",{attrs:{fix:""}},[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),a("div",[t._v(t._s(t.$t("table_loading")))])],1)],1):t._e()],1)],1)},T=[],W={props:{modalId:{type:Number,default:0}},data:function(){return{modalShow:!0,saveLoading:!1,spinLoading:!0,formData:{table_name:"",column:"",status_code:"",status_description:"",remark:""},rules:{column:[{required:!0,message:"请填写字段名",trigger:"blur"}],status_code:[{required:!0,message:"状态码",trigger:"blur"}],status_description:[{required:!0,message:"状态说明",trigger:"blur"}]}}},mounted:function(){this.modalId>0&&this.getInfoByIdExcute()},methods:{getInfoByIdExcute:function(){var t=this;L(t.modalId).then(function(e){var a=e.data;t.formData={id:a.id,table_name:a.table_name,column:a.column,status_code:a.status_code,status_description:a.status_description,remark:a.remark},t.spinLoading=!1})},editExcute:function(){var t=this;t.$refs.formData.validate(function(e){e&&(t.saveLoading=!0,M(t.formData,t.formData.id).then(function(e){t.saveLoading=!1,t.modalShow=!1,t.$emit("on-edit-modal-success"),t.$emit("on-edit-modal-hide"),t.$Notice.success({title:e.message})},function(e){t.saveLoading=!1}))})},cancel:function(){this.modalShow=!1,this.$emit("on-edit-modal-hide")}}},N=W,j=Object(c["a"])(N,O,T,!1,null,null,null),z=j.exports,H={props:{info:{default:""}},components:{AddComponent:q,EditComponent:z},data:function(){return{show:!0,agreement:"",spinLoading:!0,searchForm:{order_by:"column,asc",table_name:this.info.table_name},tableLoading:!1,feeds:{data:[],total:0,current_page:1,per_page:10},addModal:{show:!1},editModal:{show:!1,id:0},columns:[{title:"ID",key:"id",sortable:"customer",minWidth:100},{title:"字段名",key:"column",minWidth:100},{title:"状态码",key:"status_code",minWidth:80,className:"table-column-style-status-code"},{title:"状态描述",key:"status_description",minWidth:100,className:"table-column-style-status-description"},{title:"备注",key:"remark",minWidth:100},{title:"创建时间",key:"created_at",sortable:"customer",minWidth:100},{title:"修改时间",key:"updated_at",sortable:"customer",minWidth:100},{title:"操作",key:"",minWidth:100,slot:"action"}]}},created:function(){var t=this;console.log(t.info.table_name),t.searchForm.table_name=t.info.table_name,t.getTableDataExcute(t.feeds.current_page)},computed:{platformIsPc:function(){return"pc"==this.globalPlatformType()}},methods:{closed:function(){this.show=!1,this.$emit("show-modal-close")},getTableDataExcute:function(t){var e=this;e.tableLoading=!0,e.feeds.current_page=t,I(t,e.feeds.per_page,e.searchForm).then(function(t){e.feeds.data=t.data,e.feeds.total=0,e.tableLoading=!1},function(t){e.tableLoading=!1})},onSortChange:function(t){var e=t.column.key+","+t.order;this.searchForm.order_by=e,this.getTableDataExcute(this.feeds.current_page)},tableButtonEdit:function(t,e){this.editModal.show=!0,this.editModal.id=t.id},tableButtonDestroyOk:function(t,e){var a=this;E(t.id).then(function(t){a.feeds.data.splice(e,1),a.$Notice.success({title:t.message})})},addBtn:function(){this.addModal.show=!0},addModalHide:function(){this.addModal.show=!1},editModalHide:function(){this.editModal.show=!1},cancelRoleModal:function(){var t=this;t.roleModal.show=!1,t.roleModal.saveLoading=!1}}},R=H,P=(a("0b74"),Object(c["a"])(R,v,w,!1,null,null,null)),A=P.exports,J=a("90de"),K={components:{AddComponent:m,EditComponent:g,ShowInfo:A},data:function(){return{searchForm:{order_by:"created_at,desc",table_name:"",column:""},notRealySortKey:["map_count"],tableLoading:!1,feeds:{data:[],total:0,current_page:1,per_page:10},addModal:{show:!1},editModal:{show:!1,id:0},showInfoModal:{show:!1,info:""},columns:[{title:"ID",key:"id",sortable:"customer",minWidth:100},{title:"表名",key:"table_name",minWidth:100,className:"table-column-style-table-name"},{title:"表中文名",key:"table_name_cn",className:"table-column-style-table-name-cn",minWidth:150},{title:"字典数量",key:"map_count",sortable:!0,minWidth:50},{title:"操作",key:"",minWidth:200,slot:"action"},{title:"备注",key:"remark",minWidth:150},{title:"修改时间",key:"updated_at",sortable:"customer",minWidth:150}]}},created:function(){var t=this;t.getTableDataExcute(t.feeds.current_page)},methods:{getTableDataExcute:function(t){var e=this;e.tableLoading=!0,e.feeds.current_page=t,Object(l["f"])(t,e.feeds.per_page,e.searchForm).then(function(t){e.feeds.data=t.data,e.feeds.total=0,e.tableLoading=!1},function(t){e.tableLoading=!1})},onSortChange:function(t){var e=t.column.key+","+t.order;Object(J["h"])(t.column.key,this.notRealySortKey)||(this.searchForm.order_by=e,this.getTableDataExcute(this.feeds.current_page))},tableButtonEdit:function(t,e){this.editModal.show=!0,this.editModal.id=t.id},tableButtonDestroyOk:function(t,e){var a=this;Object(l["b"])(t.id).then(function(t){a.feeds.data.splice(e,1),a.$Notice.success({title:t.message})})},tableButtonShowInfo:function(t,e){this.showInfoModal.show=!0,this.showInfoModal.info=t},addBtn:function(){this.addModal.show=!0},addModalHide:function(){this.addModal.show=!1},editModalHide:function(){this.editModal.show=!1},showModalClose:function(){this.showInfoModal.show=!1}}},G=K,Q=Object(c["a"])(G,o,n,!1,null,null,null);e["default"]=Q.exports},ad8f:function(t,e,a){"use strict";a.d(e,"f",function(){return r}),a.d(e,"a",function(){return l}),a.d(e,"c",function(){return i}),a.d(e,"e",function(){return d}),a.d(e,"b",function(){return c}),a.d(e,"d",function(){return u});var o=a("1f09"),n=a.n(o),s=a("66df"),r=function(t,e,a){return s["a"].request({url:"/api/admin/tables",params:{page:t,per_page:e,search_data:n()(a)},method:"get"})},l=function(t){return s["a"].request({url:"/api/admin/tables",data:t,method:"post"})},i=function(t,e){return s["a"].request({url:"/api/admin/tables/"+e,data:t,method:"patch"})},d=function(t){return s["a"].request({url:"/api/admin/tables/"+t,method:"get"})},c=function(t){return s["a"].request({url:"/api/admin/tables/"+t,method:"delete"})},u=function(t){return s["a"].request({url:"/api/admin/tables/get_all_tables/"+t,method:"get"})}}}]);