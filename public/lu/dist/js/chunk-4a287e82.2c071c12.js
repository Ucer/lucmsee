(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a287e82"],{9702:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Row",{attrs:{gutter:24}},[e("Col",{attrs:{xs:8,lg:16}},[e("Button",{attrs:{type:"success",icon:"plus"},on:{click:function(a){return t.addBtn()}}},[t._v(t._s(t.$t("add")))])],1),e("Col",{staticClass:"hidden-mobile",attrs:{xs:12,lg:4}},[e("Input",{attrs:{icon:"search",placeholder:"请输入标签名称..."},model:{value:t.searchForm.name,callback:function(a){t.$set(t.searchForm,"name",a)},expression:"searchForm.name"}})],1),e("Col",{staticClass:"hidden-mobile",attrs:{xs:3,lg:3}},[e("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(a){return t.getTableDataExcute()}}},[t._v(t._s(t.$t("search")))])],1)],1),e("br"),e("Row",[t.tableLoading?e("div",{staticClass:"demo-spin-container"},[e("Spin",{attrs:{fix:""}},[e("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),e("div",[t._v(t._s(t.$t("table_loading")))])],1)],1):t._e(),e("Table",{attrs:{border:"",columns:t.columns,data:t.dataList},on:{"on-sort-change":t.onSortChange},scopedSlots:t._u([{key:"action",fn:function(a){var o=a.row,n=a.index;return[e("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"small"},on:{click:function(a){return t.tableButtonEdit(o,n)}}},[t._v(t._s(t.$t("edit")))]),e("Poptip",{attrs:{confirm:"",title:"您确定要删除ID为："+o.id+" 的记录？"},on:{"on-ok":function(a){return t.tableButtonDestroyOk(o,n)}}},[e("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"error",size:"small"}},[t._v(t._s(t.$t("destroy")))])],1)]}}])})],1),t.addModal.show?e("add-component",{on:{"on-add-modal-success":t.getTableDataExcute,"on-add-modal-hide":t.addModalHide}}):t._e(),t.editModal.show?e("edit-component",{attrs:{"modal-id":t.editModal.id},on:{"on-edit-modal-success":t.getTableDataExcute,"on-edit-modal-hide":t.editModalHide}}):t._e()],1)},n=[],i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Modal",{attrs:{closable:!1,"mask-closable":!1,width:"600"},model:{value:t.modalShow,callback:function(a){t.modalShow=a},expression:"modalShow"}},[e("p",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("add")))]),e("Form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"left","label-width":100}},[e("FormItem",{attrs:{label:"标签名称",prop:"name"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),e("Button",{attrs:{type:"primary",loading:t.saveLoading},on:{click:t.addExcute}},[t._v(t._s(t.$t("save"))+" ")])],1)],1)],1)},s=[],d=e("d28db"),r={data:function(){return{modalShow:!0,saveLoading:!1,formData:{name:""},rules:{name:[{required:!0,message:"请填写标签名称",trigger:"blur"}]}}},methods:{addExcute:function(){var t=this;t.$refs.formData.validate(function(a){a&&(t.saveLoading=!0,Object(d["a"])(t.formData).then(function(a){t.saveLoading=!1,t.modalShow=!1,t.$emit("on-add-modal-success"),t.$emit("on-add-modal-hide"),t.$Notice.success({title:a.message})},function(a){t.saveLoading=!1}))})},cancel:function(){this.modalShow=!1,this.$emit("on-add-modal-hide")}}},l=r,c=e("17cc"),u=Object(c["a"])(l,i,s,!1,null,null,null),m=u.exports,f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("Modal",{attrs:{closable:!1,"mask-closable":!1,width:"600"},model:{value:t.modalShow,callback:function(a){t.modalShow=a},expression:"modalShow"}},[e("p",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("edit")))]),e("Form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-position":"left","label-width":100}},[e("FormItem",{attrs:{label:"标签名称",prop:"name"}},[e("Input",{attrs:{placeholder:"请输入"},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),e("Button",{attrs:{type:"primary",loading:t.saveLoading},on:{click:t.editExcute}},[t._v(t._s(t.$t("save"))+" ")])],1),!0===t.spinLoading?e("div",{staticClass:"demo-spin-container"},[e("Spin",{attrs:{fix:""}},[e("Icon",{staticClass:"spin-icon-load",attrs:{type:"load-c",size:"18"}}),e("div",[t._v(t._s(t.$t("table_loading")))])],1)],1):t._e()],1)],1)},h=[],p=(e("3a23"),e("b06f"),{props:{modalId:{type:Number,default:0}},data:function(){return{modalShow:!0,saveLoading:!1,spinLoading:!0,formData:{name:""},rules:{name:[{required:!0,message:"请填写标签限名称",trigger:"blur"}]}}},mounted:function(){this.modalId>0&&this.getInfoByIdExcute()},methods:{getInfoByIdExcute:function(){var t=this;Object(d["e"])(t.modalId).then(function(a){var e=a.data;t.formData={id:e.id,name:e.name},t.spinLoading=!1})},editExcute:function(){var t=this;t.$refs.formData.validate(function(a){a&&(t.saveLoading=!0,Object(d["d"])(t.formData,t.formData.id).then(function(a){t.saveLoading=!1,t.modalShow=!1,t.$emit("on-edit-modal-success"),t.$emit("on-edit-modal-hide"),t.$Notice.success({title:a.message})},function(a){t.saveLoading=!1}))})},cancel:function(){this.modalShow=!1,this.$emit("on-edit-modal-hide")}}}),g=p,b=Object(c["a"])(g,f,h,!1,null,null,null),v=b.exports,_={components:{AddComponent:m,EditComponent:v},data:function(){return{searchForm:{order_by:"id,desc"},notRealySortKey:[],tableLoading:!0,dataList:[],addModal:{show:!1},editModal:{show:!1,id:0},columns:[{title:"ID",key:"id",sortable:"customer",minWidth:100},{title:"标签名称",key:"name",minWidth:150},{title:"创建时间",key:"created_at",minWidth:150},{title:"更新时间",key:"created_at",minWidth:150},{title:"操作",minWidth:200,slot:"action"}]}},created:function(){var t=this;t.getTableDataExcute()},methods:{getTableDataExcute:function(){var t=this;t.tableLoading=!0,Object(d["f"])(t.searchForm).then(function(a){var e=a.data;t.dataList=e,t.tableLoading=!1},function(a){t.tableLoading=!1})},tableButtonEdit:function(t,a){this.editModal.show=!0,this.editModal.id=t.id},tableButtonDestroyOk:function(t,a){var e=this;Object(d["c"])(t.id).then(function(t){e.$Notice.success({title:t.message})})},onSortChange:function(t){var a=t.column.key+","+t.order;oneOf(t.column.key,this.notRealySortKey)||(this.searchForm.order_by=a,this.getTableDataExcute(this.feeds.current_page))},addBtn:function(){this.addModal.show=!0},addModalHide:function(){this.addModal.show=!1},editModalHide:function(){this.editModal.show=!1}}},y=_,w=Object(c["a"])(y,o,n,!1,null,null,null);a["default"]=w.exports},d28db:function(t,a,e){"use strict";e.d(a,"f",function(){return s}),e.d(a,"a",function(){return d}),e.d(a,"d",function(){return r}),e.d(a,"e",function(){return l}),e.d(a,"c",function(){return c}),e.d(a,"g",function(){return u}),e.d(a,"b",function(){return m});var o=e("1f09"),n=e.n(o),i=e("66df"),s=function(t){return i["a"].request({url:"/api/admin/tags",params:{search_data:n()(t)},method:"get"})},d=function(t){return i["a"].request({url:"/api/admin/tags",data:t,method:"post"})},r=function(t,a){return i["a"].request({url:"/api/admin/tags/"+a,data:t,method:"patch"})},l=function(t){return i["a"].request({url:"/api/admin/tags/"+t,method:"get"})},c=function(t){return i["a"].request({url:"/api/admin/tags/"+t,method:"delete"})},u=function(t){return i["a"].request({url:"/api/admin/tags",params:{search_data:n()(t)},method:"get"})},m=function(t){return i["a"].request({url:"/api/admin/tags",data:t,method:"post"})}}}]);